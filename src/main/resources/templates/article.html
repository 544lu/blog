<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout}">
<head>
    <title th:text="${info.title}"></title>
    <meta name="keywords" th:content="${info.getKeywords()}?:${info.title}">
    <meta name="description" th:content="${info.description}?:${info.title}">
    <link rel="stylesheet" href="/css/article.css">
</head>
<body>
<div layout:fragment="content">
    <article class="article well article-body" id="article">
        <div class="breadcrumb">
            <i class="fa fa-home"></i>
            <a th:href="@{${BLOG_URL}}" th:title="${BLOG_TITLE}" th:text="${BLOG_TITLE}"></a>
            &gt;
            <a th:href="@{/category/{url}/(url=${info.category.url})}" th:title="${info.category.name}"
               th:text="${info.category.name}"></a>
            &gt;
            <span th:text="${info.title}"></span>
        </div>
        <!-- 大型设备详细文章 -->
        <div class="hidden-xs">
            <div class="title-article">
                <h1 th:text="${info.title}"></h1>
            </div>
            <div class="tag-article">
            <span class="label label-gal">
                <i class="fa fa-calendar"></i> [[${#dates.format(info.createTime,'yyyy-MM-dd')}]]
            </span>
                <span class="label label-gal">
                <i class="fa fa-eye"></i> [[${info.visits}]] ℃
            </span>
            </div>
        </div>
        <!-- 小型设备详细文章 -->
        <div class="visible-xs">
            <div style="text-align: center;">
                <div class="title-article">
                    <h4 style="color: #d2322d;" th:text="${info.title}"></h4>
                </div>
                <p>
                    <i class="fa fa-calendar"></i> [[${#dates.format(info.createTime,'yyyy-MM-dd')}]]
                    <i class="fa fa-eye"></i> [[${info.visits}]] ℃
                </p>
            </div>
        </div>
        <div class="article-content">
            [(${info.content})]
            <div class="alert alert-info">
                <span style="font-size: 11pt;">
                    版权声明: <a th:href="${BLOG_URL}" th:title="${BLOG_TITLE}"
                             th:text="${BLOG_TITLE}"></a>原创文章，转载请注明出处。<br><br>
                    文章链接: [[${#request.getRequestURL()}]]<br><br>
                    发表日期: [[${info.createTime}]]<br><br>
                    最后更新时间: [[${#dates.format(info.updateTime,'yyyy-MM-dd HH:mm')}]]<br>
                </span>
            </div>
            <!-- 标签 -->
            <footer class="article-footer">
                <div class="article-tags">
                    <i class="fa fa-tags"></i>
                    <a th:each="tag:${info.tags}" th:href="@{/tag/{url}/(url=${tag.url})}" th:title="${tag.name}"
                       th:text="${tag.name}"></a>
                </div>
            </footer>
        </div>
    </article>
    <!-- 评论 -->
    <div th:unless="${info.isComment}" id="comments-template">
        <div class="comments-container comments-root-container">
            <div>
                <h3 class="comments-header-container alert alert-info">
                    <i class="fa fa-comments"></i>
                    [[${comments.total}]]条评论
                </h3>
            </div>
            <div>
                <ul class="comments-comments-container comment-list">
                    <li th:each="item:${comments.getRecords()}">
                        <article class="comment-body">
                            <footer class="comment-meta">
                                <div class="comment-author vcard">
                                    <img th:src="'https://secure.gravatar.com/avatar/'+${item.emailMd5}+'?s=54'">
                                    <b class="fn" th:text="${item.author}"></b>
                                    <th:block th:unless="${#lists.isEmpty(item.comments)}">
                                        回复 <b class="fn" th:text="${item.comments[0].author}"></b>
                                    </th:block>
                                    <span class="says">说：</span>
                                </div>
                                <div class="comment-metadata">
                                    <a>
                                        <time th:datetime="${item.createTime}"
                                              th:text="${#dates.format(item.createTime,'yyyy年MM月dd日 HH:mm:ss')}"></time>
                                    </a>
                                </div>
                            </footer>
                            <div class="comment-content">
                                <p th:text="${item.content}"></p>
                            </div>
                            <div class="reply"><a class="comment-reply-login">回复</a></div>
                        </article>
                        <article class="comment-body comment-children" th:each="reply,replyStat:${item.comments}">
                            <footer class="comment-meta">
                                <div class="comment-author vcard">
                                    <img th:src="'https://secure.gravatar.com/avatar/'+${reply.emailMd5}" width="54"
                                         height="54">
                                    <b class="fn" th:text="${reply.author}"></b>
                                    <th:block th:unless="${replyStat.last}">
                                        回复 <b class="fn" th:text="${item.comments[replyStat.count].author}"></b>
                                    </th:block>
                                    <span class="says">说：</span>
                                </div>
                                <div class="comment-metadata">
                                        <time th:datetime="${reply.createTime}"
                                              th:text="${#dates.format(reply.createTime,'yyyy年MM月dd日 HH:mm:ss')}"></time>
                                </div>
                                </footer>
                                <div class="comment-content">
                                    <p th:text="${reply.content}"></p>
                                </div>
                                <div class="reply"><a class="comment-reply-link">回复</a></div>
                        </article>
                </ul>
            </div>
            <div>
                <div class="comments-editor-container">
                    <h3 class="comment-reply-title"><i class="fa fa-pencil"></i> 欢迎留言</h3>
                    <form action="https://www.mmgal.com/wp-comments-post.php" method="post" id="commentform"
                          class="comment-form" novalidate="novalidate">
                        <div class="comments-editor-write-field">
                        <textarea class="comments-editor-write-field" id="comment" placeholder="赶快发表你的见解吧！"
                                  name="comment" cols="45" rows="8"
                                  aria-required="true"></textarea></div>
                        <div id="loading" style="display: none;"><i class="fa fa-spinner fa-spin"></i> 正在提交, 请稍候...
                        </div>
                        <p class="form-submit">
                            <input name="submit" type="submit" id="submit" class="comments-editor-submit" value="发表评论">
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </div>


</div>

</body>
</html>