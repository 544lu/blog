(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7a00"],{"+eLL":function(t,e,a){"use strict";var l=a("T8vE");a.n(l).a},"60Md":function(t,e,a){"use strict";a.r(e);var l=a("kbZS"),o=a("2nGb"),s={data:function(){return{loading:!1,globalForm:this.$store.getters.global,systemForm:{}}},created:function(){var t=this;Object(o.a)(2).then(function(e){t.systemForm=e.data})},methods:{beforeImageUpload:function(t){var e=/^image\/*/.test(t.type),a=t.size/1024/1024<2;return e||this.$message.error("上传文件只能是图片!"),a||this.$message.error("上传文件大小不能超过 2MB!"),e&&a},uploadImg:function(t){var e=this,a=new FormData;a.append("image",t.file),Object(l.a)(a).then(function(a){e.$message.success(a.msg),"BLOG_AVATAR"===t.data?e.globalForm.BLOG_AVATAR=a.data:e.globalForm.DEFAULT_IMAGE=a.data})},modifyConfig:function(t){var e=this;Object(o.b)(t).then(function(t){e.$store.dispatch("GetGlobalInfo").then(function(){location.reload()})})}}},i=(a("+eLL"),a("KHd+")),r=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{staticClass:"global-info",attrs:{value:"globalConfig",type:"card"}},[a("el-tab-pane",{staticClass:"tag-option",attrs:{label:"全局变量",name:"globalConfig"}},[a("el-form",{ref:"globalForm",attrs:{model:t.globalForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"网站标题:",prop:"BLOG_TITLE"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入网站标题"},model:{value:t.globalForm.BLOG_TITLE,callback:function(e){t.$set(t.globalForm,"BLOG_TITLE",e)},expression:"globalForm.BLOG_TITLE"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"网站关键字:",prop:"BLOG_KEYWORDS"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入关键字"},model:{value:t.globalForm.BLOG_KEYWORDS,callback:function(e){t.$set(t.globalForm,"BLOG_KEYWORDS",e)},expression:"globalForm.BLOG_KEYWORDS"}}),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"关键字之间用,分隔",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"网站描述:",prop:"BLOG_DESCRIPTION"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入描述"},model:{value:t.globalForm.BLOG_DESCRIPTION,callback:function(e){t.$set(t.globalForm,"BLOG_DESCRIPTION",e)},expression:"globalForm.BLOG_DESCRIPTION"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"网站链接:",prop:"BLOG_URL"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入链接"},model:{value:t.globalForm.BLOG_URL,callback:function(e){t.$set(t.globalForm,"BLOG_URL",e)},expression:"globalForm.BLOG_URL"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"网站作者:",prop:"BLOG_AUTHOR"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入作者"},model:{value:t.globalForm.BLOG_AUTHOR,callback:function(e){t.$set(t.globalForm,"BLOG_AUTHOR",e)},expression:"globalForm.BLOG_AUTHOR"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"头像:",prop:"BLOG_AVATAR"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"图片地址"},model:{value:t.globalForm.BLOG_AVATAR,callback:function(e){t.$set(t.globalForm,"BLOG_AVATAR",e)},expression:"globalForm.BLOG_AVATAR"}},[a("el-upload",{attrs:{slot:"append","before-upload":t.beforeImageUpload,"http-request":t.uploadImg,"show-file-list":!1,data:"BLOG_AVATAR",action:"",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg"},slot:"append"},[a("el-button",{attrs:{type:"primary"}},[t._v("上传图片"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"网站右侧显示的头像",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"作者简介:",prop:"AUTHOR_DESCRIPTION"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入"},model:{value:t.globalForm.AUTHOR_DESCRIPTION,callback:function(e){t.$set(t.globalForm,"AUTHOR_DESCRIPTION",e)},expression:"globalForm.AUTHOR_DESCRIPTION"}}),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"头像下的描述信息",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"默认预览图:",prop:"DEFAULT_IMAGE"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"图片地址"},model:{value:t.globalForm.DEFAULT_IMAGE,callback:function(e){t.$set(t.globalForm,"DEFAULT_IMAGE",e)},expression:"globalForm.DEFAULT_IMAGE"}},[a("el-upload",{attrs:{slot:"append","before-upload":t.beforeImageUpload,"http-request":t.uploadImg,"show-file-list":!1,data:"DEFAULT_IMAGE",action:"",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg"},slot:"append"},[a("el-button",{attrs:{type:"primary"}},[t._v("上传图片"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"文章默认预览图",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"ICP备案:",prop:"FILING_ICP"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入备案信息"},model:{value:t.globalForm.FILING_ICP,callback:function(e){t.$set(t.globalForm,"FILING_ICP",e)},expression:"globalForm.FILING_ICP"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"网安备案:",prop:"FILING_SECURITY"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入备案信息"},model:{value:t.globalForm.FILING_SECURITY,callback:function(e){t.$set(t.globalForm,"FILING_SECURITY",e)},expression:"globalForm.FILING_SECURITY"}})],1),t._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(e){t.modifyConfig(t.globalForm)}}},[t._v("修改")])],1)],1)],1),t._v(" "),a("el-tab-pane",{staticClass:"tag-option",attrs:{label:"系统配置",name:"sysConfig"}},[a("el-form",{ref:"systemForm",attrs:{model:t.systemForm,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"评论是否需要校检:",prop:"COMMENT_CHECK"}},[a("el-switch",{attrs:{"active-value":"true","inactive-value":"false"},model:{value:t.systemForm.COMMENT_CHECK,callback:function(e){t.$set(t.systemForm,"COMMENT_CHECK",e)},expression:"systemForm.COMMENT_CHECK"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"图片保存路径:",prop:"IMAGE_HOME"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入图片保存路径"},model:{value:t.systemForm.IMAGE_HOME,callback:function(e){t.$set(t.systemForm,"IMAGE_HOME",e)},expression:"systemForm.IMAGE_HOME"}}),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"上传图片的存储位置",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"图片访问路径:",prop:"IMAGE_URL"}},[a("el-input",{staticClass:"config-input",attrs:{placeholder:"请输入图片访问路径"},model:{value:t.systemForm.IMAGE_URL,callback:function(e){t.$set(t.systemForm,"IMAGE_URL",e)},expression:"systemForm.IMAGE_URL"}}),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"用于显示图片的URL地址",placement:"right"}},[a("i",{staticClass:"el-icon-question"})])],1),t._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(e){t.modifyConfig(t.systemForm)}}},[t._v("修改")])],1)],1)],1)],1)},[],!1,null,"00916a3b",null);r.options.__file="index.vue";e.default=r.exports},T8vE:function(t,e,a){},kbZS:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var l=a("t3Un");function o(t){return Object(l.a)({url:"/uploadImage",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}}}]);